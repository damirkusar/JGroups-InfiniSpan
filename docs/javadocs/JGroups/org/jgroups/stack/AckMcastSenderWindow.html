<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_14) on Tue Nov 10 13:34:43 CET 2009 -->
<TITLE>
AckMcastSenderWindow
</TITLE>

<META NAME="date" CONTENT="2009-11-10">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AckMcastSenderWindow";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AckMcastSenderWindow.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/jgroups/stack/AckMcastReceiverWindow.html" title="class in org.jgroups.stack"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.RetransmitCommand.html" title="interface in org.jgroups.stack"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/jgroups/stack/AckMcastSenderWindow.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AckMcastSenderWindow.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.jgroups.stack</FONT>
<BR>
Class AckMcastSenderWindow</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>org.jgroups.stack.AckMcastSenderWindow</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>AckMcastSenderWindow</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
Keeps track of ACKs from receivers for each message. When a new message is
 sent, it is tagged with a sequence number and the receiver set (set of
 members to which the message is sent) and added to a hashtable
 (key = sequence number, val = message + receiver set). Each incoming ACK
 is noted and when all ACKs for a specific sequence number haven been
 received, the corresponding entry is removed from the hashtable. A
 retransmission thread periodically re-sends the message point-to-point to
 all receivers from which no ACKs have been received yet. A view change or
 suspect message causes the corresponding non-existing receivers to be
 removed from the hashtable.
 <p/>
 This class may need flow control in order to avoid needless
 retransmissions because of timeouts.
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>$Id: AckMcastSenderWindow.java,v 1.16 2009/05/13 13:06:56 belaban Exp $</DD>
<DT><B>Author:</B></DT>
  <DD>Bela Ban June 9 1999, 2007, John Georgiadis May 8 2001</DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;interface</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.RetransmitCommand.html" title="interface in org.jgroups.stack">AckMcastSenderWindow.RetransmitCommand</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called by retransmitter thread whenever a message needs to be re-sent
 to a destination.</TD>
</TR>
</TABLE>
&nbsp;<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;<A HREF="../../../org/jgroups/logging/Log.html" title="interface in org.jgroups.logging">Log</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.html#log">log</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default retransmit thread suspend timeout (ms)</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.html#AckMcastSenderWindow(org.jgroups.stack.AckMcastSenderWindow.RetransmitCommand)">AckMcastSenderWindow</A></B>(<A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.RetransmitCommand.html" title="interface in org.jgroups.stack">AckMcastSenderWindow.RetransmitCommand</A>&nbsp;cmd)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create and <b>start</b> the retransmitter</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.html#AckMcastSenderWindow(org.jgroups.stack.AckMcastSenderWindow.RetransmitCommand, org.jgroups.stack.Interval)">AckMcastSenderWindow</A></B>(<A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.RetransmitCommand.html" title="interface in org.jgroups.stack">AckMcastSenderWindow.RetransmitCommand</A>&nbsp;cmd,
                     <A HREF="../../../org/jgroups/stack/Interval.html" title="interface in org.jgroups.stack">Interval</A>&nbsp;retransmit_intervals)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create and <b>start</b> the retransmitter</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.html#AckMcastSenderWindow(org.jgroups.stack.AckMcastSenderWindow.RetransmitCommand, org.jgroups.stack.Interval, org.jgroups.util.TimeScheduler)">AckMcastSenderWindow</A></B>(<A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.RetransmitCommand.html" title="interface in org.jgroups.stack">AckMcastSenderWindow.RetransmitCommand</A>&nbsp;cmd,
                     <A HREF="../../../org/jgroups/stack/Interval.html" title="interface in org.jgroups.stack">Interval</A>&nbsp;retransmit_intervals,
                     <A HREF="../../../org/jgroups/util/TimeScheduler.html" title="class in org.jgroups.util">TimeScheduler</A>&nbsp;sched)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create and <b>start</b> the retransmitter</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.html#AckMcastSenderWindow(org.jgroups.stack.AckMcastSenderWindow.RetransmitCommand, org.jgroups.util.TimeScheduler)">AckMcastSenderWindow</A></B>(<A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.RetransmitCommand.html" title="interface in org.jgroups.stack">AckMcastSenderWindow.RetransmitCommand</A>&nbsp;cmd,
                     <A HREF="../../../org/jgroups/util/TimeScheduler.html" title="class in org.jgroups.util">TimeScheduler</A>&nbsp;sched)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create and <b>start</b> the retransmitter</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.html#ack(long, org.jgroups.Address)">ack</A></B>(long&nbsp;seqno,
    <A HREF="../../../org/jgroups/Address.html" title="interface in org.jgroups">Address</A>&nbsp;sender)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;An ACK has been received from <code>sender</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.html#add(long, org.jgroups.Message, java.util.Vector)">add</A></B>(long&nbsp;seqno,
    <A HREF="../../../org/jgroups/Message.html" title="class in org.jgroups">Message</A>&nbsp;msg,
    java.util.Vector&nbsp;receivers)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a new message to the hash table.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.html#clearStableMessages()">clearStableMessages</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.html#getNumberOfResponsesExpected(long)">getNumberOfResponsesExpected</A></B>(long&nbsp;seqno)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the number of members for a given entry for which acks have to be received</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.html#getNumberOfResponsesReceived(long)">getNumberOfResponsesReceived</A></B>(long&nbsp;seqno)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the number of members for a given entry for which acks have been received</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.html#getStableMessages()">getStableMessages</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.html#printDetails(long)">printDetails</A></B>(long&nbsp;seqno)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Prints all members plus whether an ack has been received from those members for a given seqno</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.html#remove(org.jgroups.Address)">remove</A></B>(<A HREF="../../../org/jgroups/Address.html" title="interface in org.jgroups">Address</A>&nbsp;obj)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove <code>obj</code> from all receiver sets and wake up
 retransmission thread.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.html#reset()">reset</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove all pending msgs from the hashtable.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.html#size()">size</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.html#stop()">stop</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stop the rentransmition and clear all pending msgs.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.html#suspect(org.jgroups.Address)">suspect</A></B>(<A HREF="../../../org/jgroups/Address.html" title="interface in org.jgroups">Address</A>&nbsp;suspected)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process with address <code>suspected</code> is suspected: remove it
 from all receiver sets.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.html#toString()">toString</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.html#waitUntilAllAcksReceived(long)">waitUntilAllAcksReceived</A></B>(long&nbsp;timeout)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Waits until all outstanding messages have been ACKed by all receivers.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="log"><!-- --></A><H3>
log</H3>
<PRE>
protected static final <A HREF="../../../org/jgroups/logging/Log.html" title="interface in org.jgroups.logging">Log</A> <B>log</B></PRE>
<DL>
<DD>Default retransmit thread suspend timeout (ms)
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="AckMcastSenderWindow(org.jgroups.stack.AckMcastSenderWindow.RetransmitCommand, org.jgroups.stack.Interval, org.jgroups.util.TimeScheduler)"><!-- --></A><H3>
AckMcastSenderWindow</H3>
<PRE>
public <B>AckMcastSenderWindow</B>(<A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.RetransmitCommand.html" title="interface in org.jgroups.stack">AckMcastSenderWindow.RetransmitCommand</A>&nbsp;cmd,
                            <A HREF="../../../org/jgroups/stack/Interval.html" title="interface in org.jgroups.stack">Interval</A>&nbsp;retransmit_intervals,
                            <A HREF="../../../org/jgroups/util/TimeScheduler.html" title="class in org.jgroups.util">TimeScheduler</A>&nbsp;sched)</PRE>
<DL>
<DD>Create and <b>start</b> the retransmitter
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>cmd</CODE> - the callback object for retranmissions<DD><CODE>retransmit_intervals</CODE> - the interval between two consecutive
                             retransmission attempts<DD><CODE>sched</CODE> - the external scheduler to use to schedule retransmissions
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if <code>cmd</code> is null</DL>
</DL>
<HR>

<A NAME="AckMcastSenderWindow(org.jgroups.stack.AckMcastSenderWindow.RetransmitCommand, org.jgroups.util.TimeScheduler)"><!-- --></A><H3>
AckMcastSenderWindow</H3>
<PRE>
public <B>AckMcastSenderWindow</B>(<A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.RetransmitCommand.html" title="interface in org.jgroups.stack">AckMcastSenderWindow.RetransmitCommand</A>&nbsp;cmd,
                            <A HREF="../../../org/jgroups/util/TimeScheduler.html" title="class in org.jgroups.util">TimeScheduler</A>&nbsp;sched)</PRE>
<DL>
<DD>Create and <b>start</b> the retransmitter
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>cmd</CODE> - the callback object for retranmissions<DD><CODE>sched</CODE> - the external scheduler to use to schedule retransmissions
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if <code>cmd</code> is null</DL>
</DL>
<HR>

<A NAME="AckMcastSenderWindow(org.jgroups.stack.AckMcastSenderWindow.RetransmitCommand, org.jgroups.stack.Interval)"><!-- --></A><H3>
AckMcastSenderWindow</H3>
<PRE>
public <B>AckMcastSenderWindow</B>(<A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.RetransmitCommand.html" title="interface in org.jgroups.stack">AckMcastSenderWindow.RetransmitCommand</A>&nbsp;cmd,
                            <A HREF="../../../org/jgroups/stack/Interval.html" title="interface in org.jgroups.stack">Interval</A>&nbsp;retransmit_intervals)</PRE>
<DL>
<DD>Create and <b>start</b> the retransmitter
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>cmd</CODE> - the callback object for retranmissions<DD><CODE>retransmit_intervals</CODE> - the interval between two consecutive
                             retransmission attempts
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if <code>cmd</code> is null</DL>
</DL>
<HR>

<A NAME="AckMcastSenderWindow(org.jgroups.stack.AckMcastSenderWindow.RetransmitCommand)"><!-- --></A><H3>
AckMcastSenderWindow</H3>
<PRE>
public <B>AckMcastSenderWindow</B>(<A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.RetransmitCommand.html" title="interface in org.jgroups.stack">AckMcastSenderWindow.RetransmitCommand</A>&nbsp;cmd)</PRE>
<DL>
<DD>Create and <b>start</b> the retransmitter
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>cmd</CODE> - the callback object for retranmissions
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if <code>cmd</code> is null</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="add(long, org.jgroups.Message, java.util.Vector)"><!-- --></A><H3>
add</H3>
<PRE>
public void <B>add</B>(long&nbsp;seqno,
                <A HREF="../../../org/jgroups/Message.html" title="class in org.jgroups">Message</A>&nbsp;msg,
                java.util.Vector&nbsp;receivers)</PRE>
<DL>
<DD>Adds a new message to the hash table.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>seqno</CODE> - The sequence number associated with the message<DD><CODE>msg</CODE> - The message (should be a copy!)<DD><CODE>receivers</CODE> - The set of addresses to which the message was sent
                  and from which consequently an ACK is expected</DL>
</DD>
</DL>
<HR>

<A NAME="ack(long, org.jgroups.Address)"><!-- --></A><H3>
ack</H3>
<PRE>
public void <B>ack</B>(long&nbsp;seqno,
                <A HREF="../../../org/jgroups/Address.html" title="interface in org.jgroups">Address</A>&nbsp;sender)</PRE>
<DL>
<DD>An ACK has been received from <code>sender</code>. Tag the sender in
 the hash table as 'received'. If all ACKs have been received, remove
 the entry all together.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>seqno</CODE> - The sequence number of the message for which an ACK has
               been received.<DD><CODE>sender</CODE> - The sender which sent the ACK</DL>
</DD>
</DL>
<HR>

<A NAME="remove(org.jgroups.Address)"><!-- --></A><H3>
remove</H3>
<PRE>
public void <B>remove</B>(<A HREF="../../../org/jgroups/Address.html" title="interface in org.jgroups">Address</A>&nbsp;obj)</PRE>
<DL>
<DD>Remove <code>obj</code> from all receiver sets and wake up
 retransmission thread.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>obj</CODE> - the sender to remove</DL>
</DD>
</DL>
<HR>

<A NAME="suspect(org.jgroups.Address)"><!-- --></A><H3>
suspect</H3>
<PRE>
public void <B>suspect</B>(<A HREF="../../../org/jgroups/Address.html" title="interface in org.jgroups">Address</A>&nbsp;suspected)</PRE>
<DL>
<DD>Process with address <code>suspected</code> is suspected: remove it
 from all receiver sets. This means that no ACKs are expected from this
 process anymore.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>suspected</CODE> - The suspected process</DL>
</DD>
</DL>
<HR>

<A NAME="getStableMessages()"><!-- --></A><H3>
getStableMessages</H3>
<PRE>
public java.util.List <B>getStableMessages</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>a copy of stable messages, or null (if non available). Removes
         all stable messages afterwards</DL>
</DD>
</DL>
<HR>

<A NAME="clearStableMessages()"><!-- --></A><H3>
clearStableMessages</H3>
<PRE>
public void <B>clearStableMessages</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="size()"><!-- --></A><H3>
size</H3>
<PRE>
public long <B>size</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>the number of currently pending msgs</DL>
</DD>
</DL>
<HR>

<A NAME="getNumberOfResponsesExpected(long)"><!-- --></A><H3>
getNumberOfResponsesExpected</H3>
<PRE>
public long <B>getNumberOfResponsesExpected</B>(long&nbsp;seqno)</PRE>
<DL>
<DD>Returns the number of members for a given entry for which acks have to be received
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getNumberOfResponsesReceived(long)"><!-- --></A><H3>
getNumberOfResponsesReceived</H3>
<PRE>
public long <B>getNumberOfResponsesReceived</B>(long&nbsp;seqno)</PRE>
<DL>
<DD>Returns the number of members for a given entry for which acks have been received
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="printDetails(long)"><!-- --></A><H3>
printDetails</H3>
<PRE>
public java.lang.String <B>printDetails</B>(long&nbsp;seqno)</PRE>
<DL>
<DD>Prints all members plus whether an ack has been received from those members for a given seqno
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="waitUntilAllAcksReceived(long)"><!-- --></A><H3>
waitUntilAllAcksReceived</H3>
<PRE>
public void <B>waitUntilAllAcksReceived</B>(long&nbsp;timeout)</PRE>
<DL>
<DD>Waits until all outstanding messages have been ACKed by all receivers.
 Takes into account suspicions and view changes. Returns when there are
 no entries left in the hashtable. <b>While waiting, no entries can be
 added to the hashtable (they will be discarded).</b>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>timeout</CODE> - Miliseconds to wait. 0 means wait indefinitely.</DL>
</DD>
</DL>
<HR>

<A NAME="stop()"><!-- --></A><H3>
stop</H3>
<PRE>
public void <B>stop</B>()</PRE>
<DL>
<DD>Stop the rentransmition and clear all pending msgs.
 <p/>
 If this retransmitter has been provided an externally managed
 scheduler, then just clear all msgs and the associated tasks, else
 stop the scheduler. In this case the method blocks until the
 scheduler's thread is dead. Only the owner of the scheduler should
 stop it.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="reset()"><!-- --></A><H3>
reset</H3>
<PRE>
public void <B>reset</B>()</PRE>
<DL>
<DD>Remove all pending msgs from the hashtable. Cancel all associated
 tasks in the retransmission scheduler
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="toString()"><!-- --></A><H3>
toString</H3>
<PRE>
public java.lang.String <B>toString</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>toString</CODE> in class <CODE>java.lang.Object</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AckMcastSenderWindow.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/jgroups/stack/AckMcastReceiverWindow.html" title="class in org.jgroups.stack"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/jgroups/stack/AckMcastSenderWindow.RetransmitCommand.html" title="interface in org.jgroups.stack"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/jgroups/stack/AckMcastSenderWindow.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AckMcastSenderWindow.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright © 1998-2009 Bela Ban / Red Hat. All Rights Reserved.
</BODY>
</HTML>
